<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- Generated by pod2coolhtml 1.101
  -- Using Pod::CoolHTML 1.104 , (C) 1997 by Eryq (eryq@zeegee.com).
  --
  -- DO NOT EDIT THIS HTML FILE! All your changes will be lost.
  -- Edit the POD or Perl file that was used to create it.
  -->
<HTML>

<HEAD>
<TITLE>IO::Scalar</TITLE>
</HEAD>
<BODY BGCOLOR=#CCCCCC LINK=#C00000 ALINK=#FF2020 VLINK=#900000>
<A NAME="__top"> </A><CENTER><TABLE BORDER=2 CELLPADDING=2 WIDTH=100%>

<TR>
<TD WIDTH=25% ALIGN=CENTER><B><FONT SIZE=+1>
<A HREF="Stringy.pm.html">IO::Stringy</A></FONT></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="AtomicFile.pm.html">IO::AtomicFile</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Lines.pm.html">IO::Lines</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
IO::Scalar</SMALL></B></TD>

<TR>
<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="ScalarArray.pm.html">IO::ScalarArray</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Stringy.pm.html">IO::Stringy</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Wrap.pm.html">IO::Wrap</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="WrapTie.pm.html">IO::WrapTie</A></SMALL></B></TD>
</TABLE></CENTER>

<P><TABLE WIDTH="100%">

<TR VALIGN="TOP"><TD ALIGN="LEFT"><CENTER>
<H1><FONT SIZE=7 COLOR=#600020><B>IO::<BR>Scalar</B></FONT></H1></CENTER>
<TD>
<UL>
<LI><A HREF="#name">NAME</A>
</LI><LI><A HREF="#synopsis">SYNOPSIS</A>
</LI><LI><A HREF="#description">DESCRIPTION</A>
</LI><LI><A HREF="#public_interface">PUBLIC INTERFACE</A>
</LI><UL>
<LI><A HREF="#construction">Construction</A>
</LI><LI><A HREF="#input_and_output">Input and output</A>
</LI><LI><A HREF="#seeking_and_telling">Seeking and telling</A>
</LI></UL>
<LI><A HREF="#version">VERSION</A>
</LI><LI><A HREF="#author">AUTHOR</A>
</LI></UL>

</TABLE>

<P><HR>
<A NAME="name">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
NAME</FONT></H1>
</A>


<P>
IO::Scalar - IO:: interface for reading/writing a scalar


<PRE></PRE>



<P><HR>
<A NAME="synopsis">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
SYNOPSIS</FONT></H1>
</A>


<P>
If you have any Perl5, you can use the basic OO interface...


<PRE>    use IO::Scalar;
    </PRE>



<PRE>    # Open a handle on a string:
    $SH = new IO::Scalar;
    $SH-&gt;open(\$somestring);
    </PRE>



<PRE>    # Open a handle on a string, read it line-by-line, then close it:
    $SH = new IO::Scalar \$somestring;
    while ($_ = $SH-&gt;getline) { print &quot;Line: $_&quot; }
    $SH-&gt;close;
        </PRE>



<PRE>    # Open a handle on a string, and slurp in all the lines:
    $SH = new IO::Scalar \$somestring;
    print $SH-&gt;getlines; 
     </PRE>



<PRE>    # Open a handle on a string, and append to it:
    $SH = new IO::Scalar \$somestring
    $SH-&gt;print(&quot;bar\n&quot;);        ### will add &quot;bar\n&quot; to the end   
      </PRE>



<PRE>    # Get the current position:
    $pos = $SH-&gt;getpos;         ### $SH-&gt;tell() also works
     </PRE>



<PRE>    # Set the current position:
    $SH-&gt;setpos($pos);          ### $SH-&gt;seek(POS,WHENCE) also works
        </PRE>



<PRE>    # Open an anonymous temporary scalar:
    $SH = new IO::Scalar;
    $SH-&gt;print(&quot;Hi there!&quot;);
    print &quot;I got: &quot;, ${$SH-&gt;sref}, &quot;\n&quot;;      ### get at value</PRE>



<P>
If your Perl is 5.004 or later, you can use the TIEHANDLE
interface, and read/write scalars just like files:


<PRE>    use IO::Scalar;</PRE>



<PRE>    # Writing to a scalar...
    my $s; 
    tie *OUT, 'IO::Scalar', \$s;
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    print &quot;s is now... $s\n&quot;
     </PRE>



<PRE>    # Reading and writing an anonymous scalar... 
    tie *OUT, 'IO::Scalar';
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    tied(OUT)-&gt;seek(0,0);
    while (&lt;OUT&gt;) { print &quot;LINE: &quot;, $_ }</PRE>



<PRE></PRE>



<P><HR>
<A NAME="description">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
DESCRIPTION</FONT></H1>
</A>


<P>
This class implements objects which behave just like FileHandle
(or IO::Handle) objects, except that you may use them to write to
(or read from) scalars.  They can be tiehandle'd as well.


<P>
Basically, this:


<PRE>    my $s;
    $SH = new IO::Scalar \$s;
    $SH-&gt;print(&quot;Hel&quot;, &quot;lo, &quot;);         # OO style
    $SH-&gt;print(&quot;world!\n&quot;);            # ditto</PRE>



<P>
Or this (if you have 5.004 or later):


<PRE>    my $s;
    $SH = tie *OUT, 'IO::Scalar', \$s;
    print OUT &quot;Hel&quot;, &quot;lo, &quot;;           # non-OO style
    print OUT &quot;world!\n&quot;;              # ditto</PRE>



<P>
Or this (if you have 5.004 or later):


<PRE>    my $s;
    $SH = IO::Scalar-&gt;new_tie(\$s);
    $SH-&gt;print(&quot;Hel&quot;, &quot;lo, &quot;);         # OO style...
    print $SH &quot;world!\n&quot;;              # ...or non-OO style!</PRE>



<P>
Causes $s to be set to:


<PRE>    &quot;Hello, world!\n&quot; </PRE>



<PRE></PRE>



<P><HR>
<A NAME="public_interface">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
PUBLIC INTERFACE</FONT></H1>
</A>


<P><HR>
<A NAME="construction">
<H2><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h2bullet.gif" ALT="" BORDER="0"></A>
Construction</FONT></H2>
</A>

<DL>
<P><DT><B><A NAME="new">new [ARGS...]</A></B><DD>

<I>Class method.</I>
Return a new, unattached scalar handle.  
If any arguments are given, they're sent to open().


<P><DT><B><A NAME="open">open [SCALARREF]</A></B><DD>

<I>Instance method.</I>
Open the scalar handle on a new scalar, pointed to by SCALARREF.
If no SCALARREF is given, a &quot;private&quot; scalar is created to hold
the file data.


<P>
Returns the self object on success, undefined on error.


<P><DT><B><A NAME="opened">opened</A></B><DD>

<I>Instance method.</I>
Is the scalar handle opened on something?


<P><DT><B><A NAME="close">close</A></B><DD>

<I>Instance method.</I>
Disassociate the scalar handle from its underlying scalar.
Done automatically on destroy.

</DL>


<P><HR>
<A NAME="input_and_output">
<H2><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h2bullet.gif" ALT="" BORDER="0"></A>
Input and output</FONT></H2>
</A>

<DL>
<P><DT><B><A NAME="getc">getc</A></B><DD>

<I>Instance method.</I>
Return the next character, or undef if none remain.


<P><DT><B><A NAME="getline">getline</A></B><DD>

<I>Instance method.</I>
Return the next line, or undef on end of string.  
Can safely be called in an array context.
Currently, lines are delimited by &quot;\n&quot;.


<P><DT><B><A NAME="getlines">getlines</A></B><DD>

<I>Instance method.</I>
Get all remaining lines.
It will croak() if accidentally called in a scalar context.


<P><DT><B><A NAME="print">print ARGS...</A></B><DD>

<I>Instance method.</I>
Print ARGS to the underlying scalar.


<P>
<B>Warning:</B> Currently, this always causes a &quot;seek to the end of the string&quot;; 
this may change in the future.


<P><DT><B><A NAME="read">read BUF, NBYTES, [OFFSET]</A></B><DD>

<I>Instance method.</I>
Read some bytes from the scalar.
Returns the number of bytes actually read, 0 on end-of-file, undef on error.

</DL>


<P><HR>
<A NAME="seeking_and_telling">
<H2><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h2bullet.gif" ALT="" BORDER="0"></A>
Seeking and telling</FONT></H2>
</A>

<DL>
<P><DT><B><A NAME="clearerr">clearerr</A></B><DD>

<I>Instance method.</I>  Clear the error and EOF flags.  A no-op.


<P><DT><B><A NAME="eof">eof</A></B><DD>

<I>Instance method.</I>  Are we at end of file?


<P><DT><B><A NAME="seek">seek OFFSET, WHENCE</A></B><DD>

<I>Instance method.</I>  Seek to a given position in the stream.


<P><DT><B><A NAME="tell">tell</A></B><DD>

<I>Instance method.</I>
Return the current position in the stream, as a numeric offset.


<P><DT><B><A NAME="setpos">setpos POS</A></B><DD>

<I>Instance method.</I>
Set the current position, using the opaque value returned by <CODE>getpos()</CODE>.


<P><DT><B><A NAME="getpos">getpos</A></B><DD>

<I>Instance method.</I>
Return the current position in the string, as an opaque object.


<P><DT><B><A NAME="sref">sref</A></B><DD>

<I>Instance method.</I>
Return a reference to the underlying scalar.

</DL>


<P><HR>
<A NAME="version">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
VERSION</FONT></H1>
</A>


<P>
$Id: Scalar.pm,v 1.114 1998/12/16 02:00:04 eryq Exp $


<PRE></PRE>



<P><HR>
<A NAME="author">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
AUTHOR</FONT></H1>
</A>


<P>
Eryq (<I><A HREF="mailto:eryq@zeegee.com">eryq@zeegee.com</A></I>).
President, ZeeGee Software Inc (<I><A HREF="http://www.zeegee.com">http://www.zeegee.com</A></I>).


<P>
Thanks to Andy Glew for contributing <CODE>getc()</CODE>.


<P>
Thanks to Brandon Browning for suggesting <CODE>opened()</CODE>.


<P>
Thanks to David Richter for finding and fixing the bug in <CODE>PRINTF()</CODE>.


<P><HR>
<SMALL>
		Last updated: Fri Jan 15 01:07:49 1999 <BR>
		Generated by pod2coolhtml 1.101.  Want a copy?  Just email
		<A HREF="mailto:eryq@zeegee.com">eryq@zeegee.com</A>.
		(Yes, it's free.)
		</SMALL></BODY>
</HTML>
