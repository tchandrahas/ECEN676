<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- Generated by pod2coolhtml 1.101
  -- Using Pod::CoolHTML 1.104 , (C) 1997 by Eryq (eryq@zeegee.com).
  --
  -- DO NOT EDIT THIS HTML FILE! All your changes will be lost.
  -- Edit the POD or Perl file that was used to create it.
  -->
<HTML>

<HEAD>
<TITLE>IO::ScalarArray</TITLE>
</HEAD>
<BODY BGCOLOR=#CCCCCC LINK=#C00000 ALINK=#FF2020 VLINK=#900000>
<A NAME="__top"> </A><CENTER><TABLE BORDER=2 CELLPADDING=2 WIDTH=100%>

<TR>
<TD WIDTH=25% ALIGN=CENTER><B><FONT SIZE=+1>
<A HREF="Stringy.pm.html">IO::Stringy</A></FONT></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="AtomicFile.pm.html">IO::AtomicFile</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Lines.pm.html">IO::Lines</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Scalar.pm.html">IO::Scalar</A></SMALL></B></TD>

<TR>
<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
IO::ScalarArray</SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Stringy.pm.html">IO::Stringy</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="Wrap.pm.html">IO::Wrap</A></SMALL></B></TD>

<TD WIDTH=25% ALIGN=CENTER><B><SMALL>
<A HREF="WrapTie.pm.html">IO::WrapTie</A></SMALL></B></TD>
</TABLE></CENTER>

<P><TABLE WIDTH="100%">

<TR VALIGN="TOP"><TD ALIGN="LEFT"><CENTER>
<H1><FONT SIZE=7 COLOR=#600020><B>IO::<BR>ScalarArray</B></FONT></H1></CENTER>
<TD>
<UL>
<LI><A HREF="#name">NAME</A>
</LI><LI><A HREF="#synopsis">SYNOPSIS</A>
</LI><LI><A HREF="#description">DESCRIPTION</A>
</LI><LI><A HREF="#public_interface">PUBLIC INTERFACE</A>
</LI><UL>
<LI><A HREF="#construction">Construction</A>
</LI><LI><A HREF="#input_and_output">Input and output</A>
</LI><LI><A HREF="#seeking_and_telling">Seeking and telling</A>
</LI></UL>
<LI><A HREF="#version">VERSION</A>
</LI><LI><A HREF="#author">AUTHOR</A>
</LI></UL>

</TABLE>

<P><HR>
<A NAME="name">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
NAME</FONT></H1>
</A>


<P>
IO::ScalarArray - IO:: interface for reading/writing an array of scalars


<PRE></PRE>



<P><HR>
<A NAME="synopsis">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
SYNOPSIS</FONT></H1>
</A>


<P>
If you have any Perl5, you can use the basic OO interface...


<PRE>    use IO::ScalarArray;
    </PRE>



<PRE>    # Open a handle on an array-of-scalars:
    $AH = new IO::ScalarArray;
    $AH-&gt;open(\@a);
    </PRE>



<PRE>    # Open a handle on an array-of-scalars, read it line-by-line, 
    # then close it:
    $AH = new IO::ScalarArray \@a;
    while ($_ = $AH-&gt;getline) { print &quot;Line: $_&quot; }
    $AH-&gt;close;
        </PRE>



<PRE>    # Open a handle on an array-of-scalars, and slurp in all the lines:
    $AH = new IO::ScalarArray \@a;
    print $AH-&gt;getlines; 
     </PRE>



<PRE>    # Open a handle on an array-of-scalars, and append to it:
    $AH = new IO::ScalarArray \@a;
    $AH-&gt;print(&quot;bar\n&quot;);
    print &quot;some string is now: &quot;, $somestring, &quot;\n&quot;;
      </PRE>



<PRE>    # Get the current position:
    $pos = $AH-&gt;getpos;         ### $AH-&gt;tell() also works
     </PRE>



<PRE>    # Set the current position:
    $AH-&gt;setpos($pos);          ### $AH-&gt;seek(POS,WHENCE) also works
      </PRE>



<PRE>    # Open an anonymous temporary scalar array:
    $AH = new IO::ScalarArray;
    $AH-&gt;print(&quot;Hi there!\nHey there!\n&quot;);
    $AH-&gt;print(&quot;Ho there!\n&quot;);
    print &quot;I got: &quot;, @{$AH-&gt;aref}, &quot;\n&quot;;      ### get at value</PRE>



<P>
If your Perl is 5.004 or later, you can use the TIEHANDLE
interface, and read/write as array-of-scalars just like files:


<PRE>    use IO::ScalarArray;</PRE>



<PRE>    # Writing to a scalar array...
    my @a; 
    tie *OUT, 'IO::ScalarArray', \@a;
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    print &quot;s is now... [&quot;, join('', @a), &quot;]\n&quot;; 
     </PRE>



<PRE>    # Reading and writing an anonymous scalar array... 
    tie *OUT, 'IO::ScalarArray';
    print OUT &quot;line 1\nline 2\n&quot;, &quot;line 3\n&quot;;
    tied(OUT)-&gt;seek(0,0);
    while (&lt;OUT&gt;) { print &quot;LINE: &quot;, $_ }</PRE>



<PRE></PRE>



<P><HR>
<A NAME="description">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
DESCRIPTION</FONT></H1>
</A>


<P>
This class implements objects which behave just like FileHandle
(or IO::Handle) objects, except that you may use them to write to
(or read from) scalars.  They can be tiehandle'd as well.


<P>
For writing large amounts of data with individual print() statements, 
this is likely to be more efficient than IO::Scalar.


<P>
Basically, this:


<PRE>    my @a;
    $AH = new IO::ScalarArray \@a;
    $AH-&gt;print(&quot;Hel&quot;, &quot;lo, &quot;);     
    $AH-&gt;print(&quot;world!\n&quot;);     </PRE>



<P>
Or this (if you have 5.004 or later):


<PRE>    my @a;
    $AH = tie *OUT, 'IO::ScalarArray', \@a;
    print OUT &quot;Hel&quot;, &quot;lo, &quot;; 
    print OUT &quot;world!\n&quot;; </PRE>



<P>
Causes @a to be set to the following arrayt of 3 strings:


<PRE>    ( &quot;Hel&quot; , 
      &quot;lo, &quot; , 
      &quot;world!\n&quot; )</PRE>



<P>
Compare this with IO::Scalar.


<PRE></PRE>



<P><HR>
<A NAME="public_interface">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
PUBLIC INTERFACE</FONT></H1>
</A>


<P><HR>
<A NAME="construction">
<H2><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h2bullet.gif" ALT="" BORDER="0"></A>
Construction</FONT></H2>
</A>

<DL>
<P><DT><B><A NAME="new">new [ARGS...]</A></B><DD>

<I>Class method.</I>
Return a new, unattached array handle.  
If any arguments are given, they're sent to open().


<P><DT><B><A NAME="open">open [ARRAYREF]</A></B><DD>

<I>Instance method.</I>
Open the array handle on a new array, pointed to by ARRAYREF.
If no ARRAYREF is given, a &quot;private&quot; array is created to hold
the file data.


<P>
Returns the self object on success, undefined on error.


<P><DT><B><A NAME="opened">opened</A></B><DD>

<I>Instance method.</I>
Is the array handle opened on something?


<P><DT><B><A NAME="close">close</A></B><DD>

<I>Instance method.</I>
Disassociate the array handle from its underlying array.
Done automatically on destroy.

</DL>


<P><HR>
<A NAME="input_and_output">
<H2><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h2bullet.gif" ALT="" BORDER="0"></A>
Input and output</FONT></H2>
</A>

<DL>
<P><DT><B><A NAME="getc">getc</A></B><DD>

<I>Instance method.</I>
Return the next character, or undef if none remain.
This does a read(1), which is somewhat costly.


<P><DT><B><A NAME="getline">getline</A></B><DD>

<I>Instance method.</I>
Return the next line, or undef on end of data.
Can safely be called in an array context.
Currently, lines are delimited by &quot;\n&quot;.


<P><DT><B><A NAME="getlines">getlines</A></B><DD>

<I>Instance method.</I>
Get all remaining lines.
It will croak() if accidentally called in a scalar context.


<P><DT><B><A NAME="print">print ARGS...</A></B><DD>

<I>Instance method.</I>
Print ARGS to the underlying array.


<P>
Currently, this always causes a &quot;seek to the end of the array&quot;
and generates a new array entry.  This may change in the future.


<P><DT><B><A NAME="read">read BUF, NBYTES, [OFFSET];</A></B><DD>

<I>Instance method.</I>
Read some bytes from the array.
Returns the number of bytes actually read, 0 on end-of-file, undef on error.

</DL>


<P><HR>
<A NAME="seeking_and_telling">
<H2><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h2bullet.gif" ALT="" BORDER="0"></A>
Seeking and telling</FONT></H2>
</A>

<DL>
<P><DT><B><A NAME="eof">eof</A></B><DD>

<I>Instance method.</I>  Are we at end of file?


<P><DT><B><A NAME="seek">seek POS,WHENCE</A></B><DD>

<I>Instance method.</I>
Seek to a given position in the stream.
Only a WHENCE of 0 (SEEK_SET) is supported.


<P><DT><B><A NAME="tell">tell</A></B><DD>

<I>Instance method.</I>
Return the current position in the stream, as a numeric offset.


<P><DT><B><A NAME="setpos">setpos POS</A></B><DD>

<I>Instance method.</I>
Seek to a given position in the array, using the opaque getpos() value.
Don't expect this to be a number.


<P><DT><B><A NAME="getpos">getpos</A></B><DD>

<I>Instance method.</I>
Return the current position in the array, as an opaque value.
Don't expect this to be a number.


<P><DT><B><A NAME="aref">aref</A></B><DD>

<I>Instance method.</I>
Return a reference to the underlying array.

</DL>


<P><HR>
<A NAME="version">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
VERSION</FONT></H1>
</A>


<P>
$Id: ScalarArray.pm,v 1.112 1998/12/16 02:00:04 eryq Exp $


<PRE></PRE>



<P><HR>
<A NAME="author">
<H1><FONT COLOR=#600020>
<A HREF="#__top"><IMG SRC="IO-stringy/h1bullet.gif" ALT="" BORDER="0"></A>
AUTHOR</FONT></H1>
</A>


<P>
Eryq (<I><A HREF="mailto:eryq@zeegee.com">eryq@zeegee.com</A></I>).
President, ZeeGee Software Inc (<I><A HREF="http://www.zeegee.com">http://www.zeegee.com</A></I>).


<P>
Thanks to Andy Glew for suggesting <CODE>getc()</CODE>.


<P>
Thanks to Brandon Browning for suggesting <CODE>opened()</CODE>.


<P><HR>
<SMALL>
		Last updated: Fri Jan 15 01:07:52 1999 <BR>
		Generated by pod2coolhtml 1.101.  Want a copy?  Just email
		<A HREF="mailto:eryq@zeegee.com">eryq@zeegee.com</A>.
		(Yes, it's free.)
		</SMALL></BODY>
</HTML>
